OsToken:
  inheritance:
    extends: Traceable
    type: concrete
  columns:
    token:
      type: string(255)
      notnull: true
    refresh_token:
      type: string(255)
      notnull: true
    expires_at:
      type: timestamp
      notnull: true
    oc_application_id:
      type: integer
      notnull: true
  indexes:
    oc_token_token_idx:
      fields: [token]
  relations:
    OcApplication:
      onDelete: CASCADE
      onUpdate: CASCADE
      foreignAlias: OcTokens
OsApplication:
  inheritance:
    extends: Dummy
    type: concrete
  columns:
    identifier:
      type: string(255)
      notnull: true
    secret:
      type: string(255)
      notnull: true
    user_id:
      type: integer
      notnull: true
    expires_at: timestamp
  indexes:
    oc_application_identifier_secret_idx:
      fields: [identifier, secret]
  relations:
    User:
      local: user_id
      class: sfGuardUser
      foreignAlias: OcApplications
      onDelete: CASCADE
      onUpdate: CASCADE
